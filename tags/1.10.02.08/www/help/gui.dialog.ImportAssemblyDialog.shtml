<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<meta http-equiv="Content-Language" content="en-gb">
<meta http-equiv="content-type" content="text/html; charset=utf-8">

<link rel="stylesheet" href="../stylesheet/styles.css" type="text/css">

<title>Open Assembly</title>

</head>
<body>

<!--#include virtual="header.html" -->


<h2>Open Assembly</h2>

<p>The <b>Open Assembly</b> dialog is used to load assemblies into Tablet for viewing.</p>

<p>Access the dialog by selecting either <b>Open Assembly</b> from the <b>Data</b>
tab of the <a href="ribbon.shtml">Ribbon Bar</a> or by selecting <b>Open</b>
from the <a href="application-menu.shtml">Application Menu</a>.</p>

<p><a href="images/gui.dialog.ImportAssemblyDialog.png">
<img class="capture" src="images/gui.dialog.ImportAssemblyDialog2.png" alt="Tablet Screenshot"></a></p>

<p>Tablet can currently view assemblies/alignments which are stored in the ACE,
AFG, MAQ, or SOAP file formats, with accompanying reference/consensus data (if needed)
being read from either FASTA or FASTQ files. Support for SAM and BAM is included too,
but is still experimental.</p>

 <p>
 ACE and AFG format files can be loaded without any additional files being required.
 </p>

 To load MAQ output you will need to
 <ul>
 <li>convert the map file generated by MAQ into a text formatted alignment (maq mapview myMapFile.map > myAlignmentFile.txt)</li>
 <li>export the consensus sequences (if you wish to use these) from MAQ (maq cns2fq myCnsFile.cns > myFastqOutput.fastq) or
 else provide the original FASTA formatted reference sequences</li>
 </ul>

 <p>
 For SOAP output you must provide both the text formatted SOAP alignment and the reference sequences in FASTA format.
 </p>



<p>The <b>Primary assembly file</b> refers to the main file containing your assembly
or alignment data. The <b>Reference/consensus file</b> refers only to additional
reference files that are generated by the MAQ and SOAP assemblers only. This
additional data is not needed by Tablet, but it is advisable to include it if you
have it, otherwise Tablet cannot provide a visualization of reference/consensus
sequence within each contig.</p>


<h3>Importing ACE files</h3>

<p>An ACE formatted file includes information on each contig, its consensus
sequence, and the reads that are aligned against it. A single ACE file provides
all the information that Tablet requires.</p>


<h3>Importing AFG files</h3>

<p>An AFG formatted file includes information on each contig, its consensus
sequence, and the reads that are aligned against it. A single AFG file provides
all the information that Tablet requires.</p>


<h3>Importing MAQ files</h3>

<p>The MAQ assembler ultimately generates a binary-formatted map file (with a
.map extension). To be readable by Tablet, this file must be converted into
two separate text-based files - one containing the read information, and another
that contains the contig/consensus information.</p>

<p><b>To create the primary assembly file:</b><br>
Using the command line MAQ assembler tools, run: <i>maq mapview input.map > output.txt</i>.
This file must be provided to Tablet.</p>

<p><b>To create the reference/consensus file:</b><br>
Using the command line MAQ assembler tools, run: <i>maq cns2fq input.cns > output.fastq</i>.
This generates a reference file in FASTQ format. Alternatively, if you have the
original reference sequences in a FASTA formatted file, simply use this file instead.
In either case, this file is optional.</p>


<h3>Importing SOAP files</h3>

<p>The output from a SOAP assembly will include a text-based SOAP alignment file
that includes the read data, and a separate FASTA formatted file containing the
reference information. You must provide at least the SOAP file to Tablet (the
reference file is optional).</p>


<h3>Importing SAM files</h3>

<p>Tablet will attempt to load a text-based .sam file, with or without SAM
headers. A SAM file does not include reference/consensus information, so if it
is to be included, it must be provided in a separate fasta/fastq file.</p>

<h3>Importing BAM files</h3>

<p>Tablet will attempt to load binary .bam files, however it should be noted
that Tablet does not (yet) support bam's indexing features, which means the entire
bam file will be read into memory. If reference/consensus information is
to be included, it must be provided in a separate fasta/fastq file.</p>


<!--#include virtual="footer.html" -->

</body>
</html>